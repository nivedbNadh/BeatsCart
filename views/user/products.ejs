<%-include('../layouts/user/header')%>



<%-include('../layouts/user/navbar')%>

<section class="product_list section_padding">
    <div class="container">
        <div class="row justify-content-center">
              <!-- Breadcrumbs -->
              <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                    <% breadcrumbs.forEach(function(breadcrumb, index) { %>
                        <% if (index === breadcrumbs.length - 1) { %>
                            <li class="breadcrumb-item active" aria-current="page"><%= breadcrumb.name %></li>
                        <% } else { %>
                            <li class="breadcrumb-item"><a href="<%= breadcrumb.url %>"><%= breadcrumb.name %></a></li>
                        <% } %>
                    <% }); %>
                </ol>
        </nav>
            <div class="col-lg-12">
                <div class="section_tittle text-center">
                    <h2>Products<span>shop</span></h2>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <!-- <div class="product_list_slider owl-carousel"> -->
                    
                    <div class="single_product_list_slider">
                        <div class="row align-items-center justify-content-between">
                           
                        <% products.forEach(data => { %>
                         
                        
                            <div class="col-lg-3 col-sm-6 " id="product">
                                <div class="single_product_item">
                                    <a href="/productDetails/<%= data._id %>"> 
                                        <button class="badge" onclick="getProductDetails('<%= data._id %>')">Buy Now</button>
                                        <div class="product-card">
                                            
                                         <div class="product-tumb">
                                            <img src="/uploads/<%= data.image[0]%>" alt="Headphone">
                                        </div>
                                            <!-- <h1>hello</h1> -->
                                        <div class="product-details">
                                            <span class="product-catagory"></span>
                                            <h4><a href="#"> <%= data.name  %> </a></h4>
                                            <div class="product-bottom-details">
                                                <div class="product-price"><%=data.price%></div>
                                                <div class="product-links">
                                                    <a href="#"><i class="fa fa-heart"></i></a>
                                                    <a href="#"><i class="fa fa-shopping-cart"></i></a>
                                                    
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </a>
                                
                    
                                    <style>
                                        @import url('https://fonts.googleapis.com/css?family=Roboto:400,500,700');
                                        
                                        body {
                                            font-family: 'Roboto', sans-serif;
                                            margin: 0;
                                            padding: 0;
                                        }
                                    
                                        .product-card {
                                            width: 250px; /* Reduced width */
                                            height: 350px; /* Reduced height */
                                            position: relative;
                                            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
                                            margin: 50px auto;
                                            background: #fff;
                                            border-radius: 10px;
                                            overflow: hidden;
                                            transition: transform 0.3s ease; /* Added transition for hover effect */
                                        }
                                    
                                        .product-card:hover {
                                            transform: translateY(-5px); /* Move the card up slightly on hover */
                                        }
                                    
                                        .badge {
                                            position: absolute;
                                            left: 20px;
                                            top: 20px;
                                            text-transform: uppercase;
                                            font-size: 12px;
                                            font-weight: 700;
                                            background: red;
                                            color: #fff;
                                            padding: 4px 10px;
                                            border-radius: 20px;
                                        }
                                    
                                        .product-tumb {
                                            height: 200px;
                                            overflow: hidden;
                                        }
                                    
                                        .product-tumb img {
                                            width: 100%;
                                            height: auto;
                                            transition: transform 0.5s ease;
                                        }
                                    
                                        .product-tumb img:hover {
                                            transform: scale(1.1);
                                        }
                                    
                                        .product-details {
                                            padding: 20px;
                                        }
                                    
                                        .product-catagory {
                                            font-size: 12px;
                                            font-weight: 700;
                                            text-transform: uppercase;
                                            color: #999;
                                            margin-bottom: 8px;
                                        }
                                    
                                        .product-details h4 {
                                            font-size: 18px;
                                            font-weight: 500;
                                            text-transform: uppercase;
                                            color: #333;
                                            margin-bottom: 8px;
                                        }
                                    
                                        .product-bottom-details {
                                            overflow: hidden;
                                            border-top: 1px solid #eee;
                                            padding-top: 10px;
                                        }
                                    
                                        .product-price {
                                            font-size: 20px;
                                            color: #fbb72c;
                                            font-weight: 600;
                                            margin-bottom: 10px;
                                            display: inline-block; /* Ensure price is displayed inline */
                                        }
                                    
                                        .product-price small {
                                            font-size: 16px;
                                            font-weight: 400;
                                            text-decoration: line-through;
                                            margin-right: 5px;
                                        }
                                    
                                        .product-links {
                                            text-align: right;
                                            display: inline-block; /* Ensure links are displayed inline */
                                            float: right; /* Align to the right */
                                        }
                                    
                                        .product-links a {
                                            display: inline-block;
                                            margin-left: 10px;
                                            color: #333;
                                            transition: 0.3s;
                                            font-size: 20px;
                                        }
                                    
                                        .product-links a:hover {
                                            color: #fbb72c;
                                        }
                                    .breadcrumb {
                                        background-color: transparent; 
                                        padding: 0; 
                                        margin: 0; 
                                    }

                                    .breadcrumb .breadcrumb-item {
                                        font-size: 16px; /* Adjust font size */
                                        color: #555; /* Adjust text color */
                                    }

                                    .breadcrumb .breadcrumb-item a {
                                        color: #007bff; 
                                        text-decoration: none; 
                                        transition: color 0.3s;
                                    }

                                    .breadcrumb .breadcrumb-item a:hover {
                                        color: #0056b3; /* Change link color on hover */
                                    }

                                    .breadcrumb .breadcrumb-item.active {
                                        color: #000; /* Adjust active item text color */
                                    }

                                                                    </style>
                                 
                                </div>
                            </div>
                            <% }) %>
                                         
                        </div>
                    </div>
                <!-- </div> -->
            </div>
        </div>
    </div>
</section>









    <!-- <script>
document.addEventListener('DOMContentLoaded', function() {
    document.addEventListener('click', function(event) {
        if (event.target && event.target.matches('.badge')) {
            const productCard = event.target.closest('.single_product_item');
            const productId = productCard.dataset.productId;
            fetch('/productDetails/:productId', {
                method: 'GET',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ productId: productId }),
            })
            .then(response => {
                console.log('Product ID sent to backend:', productId);
            })
            .catch(error => {
                console.error('Error:', error);
            });
        }
    });
});

    </script> -->



    <script>
        function getProductDetails(productId){
            fetch(`/productDetails/${productId}`, {
                method: 'GET',
                headers: {
                    'Content-Type': 'application/json',
                },
            })
            .then(response => {
                console.log('Product ID sent to backend:', productId);
            })
            .catch(error => {
                console.error('Error:', error);
            });
        }
    </script>
        

        <%-include('../layouts/user/footer')%>